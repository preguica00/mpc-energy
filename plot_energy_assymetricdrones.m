load('costt1_t4')
load('costt_energy1_t4')
load('costt2_t4')
load('costt_energy2_t4')

load('states2_t4')
load('control2_t4')
load('states1_t4')
load('control1_t4')


cost_total_t4 = vecnorm(costt1_t4)+vecnorm(costt_energy1_t4) + vecnorm(costt2_t4)+ vecnorm(costt_energy2_t4);

load('costt1_t5')
load('costt_energy1_t5')
load('costt2_t5')
load('costt_energy2_t5')

load('states2_t5')
load('control2_t5')
load('states1_t5')
load('control1_t5')

cost_total_t5 = vecnorm(costt1_t5)+vecnorm(costt_energy1_t5) + vecnorm(costt2_t5)+ vecnorm(costt_energy2_t5);

% aa=vecnorm(costt1_t4)
% ab=vecnorm(costt_energy1_t4)
% ba=vecnorm(costt2_t4)
% bb=vecnorm(costt_energy2_t4)
% 
% a1 = aa+ab+ba+bb
% aa2=vecnorm(costt1_t5)
% ab2=vecnorm(costt_energy1_t5)
% ba2=vecnorm(costt2_t5)
% bb2=vecnorm(costt_energy2_t5)
% a2 =aa2+ab2+ba2

load('costt1_t6')
load('costt_energy1_t6')
load('costt2_t6')
load('costt_energy2_t6')

load('states2_t6')
load('control2_t6')
load('states1_t6')
load('control1_t6')

cost_total_t6 = vecnorm(costt1_t6)+vecnorm(costt_energy1_t6) + vecnorm(costt2_t6)+ vecnorm(costt_energy2_t6);

load('costt1_t7')
load('costt_energy1_t7')
load('costt2_t7')
load('costt_energy2_t7')

load('states2_t7')
load('control2_t7')
load('states1_t7')
load('control1_t7')

cost_total_t7 = vecnorm(costt1_t7)+vecnorm(costt_energy1_t7) + vecnorm(costt2_t7)+ vecnorm(costt_energy2_t7);

load('costt1_t8')
load('costt_energy1_t8')
load('costt2_t8')
load('costt_energy2_t8')

load('states2_t8')
load('control2_t8')
load('states1_t8')
load('control1_t8')

cost_total_t8 = vecnorm(costt1_t8)+vecnorm(costt_energy1_t8) + vecnorm(costt2_t8)+ vecnorm(costt_energy2_t8);

load('costt1_t9')
load('costt_energy1_t9')
load('costt2_t9')
load('costt_energy2_t9')

load('states2_t9')
load('control2_t9')
load('states1_t9')
load('control1_t9')

cost_total_t9 = vecnorm(costt1_t9)+vecnorm(costt_energy1_t9) + vecnorm(costt2_t9)+ vecnorm(costt_energy2_t9);

load('costt1_t10')
load('costt_energy1_t10')
load('costt2_t10')
load('costt_energy2_t10')

load('states2_t10')
load('control2_t10')
load('states1_t10')
load('control1_t10')

cost_total_t10 = vecnorm(costt1_t10)+vecnorm(costt_energy1_t10) + vecnorm(costt2_t10)+ vecnorm(costt_energy2_t10);

load('costt1_t11')
load('costt_energy1_t11')
load('costt2_t11')
load('costt_energy2_t11')

load('states2_t11')
load('control2_t11')
load('states1_t11')
load('control1_t11')

cost_total_t11 = vecnorm(costt1_t11)+vecnorm(costt_energy1_t11) + vecnorm(costt2_t11)+ vecnorm(costt_energy2_t11);

load('costt1_t12')
load('costt_energy1_t12')
load('costt2_t12')
load('costt_energy2_t12')

load('states2_t12')
load('control2_t12')
load('states1_t12')
load('control1_t12')

cost_total_t12 = vecnorm(costt1_t12)+vecnorm(costt_energy1_t12) + vecnorm(costt2_t12)+ vecnorm(costt_energy2_t12);

load('costt1_ass_t4')
load('costt_energy1_ass_t4')
load('costt2_ass_t4')
load('costt_energy2_ass_t4')

load('states2_ass_t4')
load('control2_ass_t4')
load('states1_ass_t4')
load('control1_ass_t4')


cost_total_ass_t4 = vecnorm(costt1_ass_t4)+vecnorm(costt_energy1_ass_t4) + vecnorm(costt2_ass_t4)+ vecnorm(costt_energy2_ass_t4);
% aa=vecnorm(costt1_ass_t4)
% aa2= vecnorm(costt1_ass_t5)
% bb = vecnorm(costt_energy1_ass_t4)
% bb2 = vecnorm(costt_energy1_ass_t5)
% cc = vecnorm(costt2_ass_t4)
% cc2 = vecnorm(costt2_ass_t5)
% dd = vecnorm(costt_energy2_ass_t4)
% dd2 = vecnorm(costt_energy2_ass_t5)
load('costt1_ass_t5')
load('costt_energy1_ass_t5')
load('costt2_ass_t5')
load('costt_energy2_ass_t5')

load('states2_ass_t5')
load('control2_ass_t5')
load('states1_ass_t5')
load('control1_ass_t5')

cost_total_ass_t5 = vecnorm(costt1_ass_t5)+vecnorm(costt_energy1_ass_t5) + vecnorm(costt2_ass_t5)+ vecnorm(costt_energy2_ass_t5);

load('costt1_ass_t6')
load('costt_energy1_ass_t6')
load('costt2_ass_t6')
load('costt_energy2_ass_t6')

load('states2_ass_t6')
load('control2_ass_t6')
load('states1_ass_t6')
load('control1_ass_t6')


cost_total_ass_t6 = vecnorm(costt1_ass_t6)+vecnorm(costt_energy1_ass_t6) + vecnorm(costt2_ass_t6)+ vecnorm(costt_energy2_ass_t6);

load('costt1_ass_t7')
load('costt_energy1_ass_t7')
load('costt2_ass_t7')
load('costt_energy2_ass_t7')
% 
load('states2_ass_t7')
load('control2_ass_t7')
load('states1_ass_t7')
load('control1_ass_t7')


cost_total_ass_t7 = vecnorm(costt1_ass_t7)+vecnorm(costt_energy1_ass_t7) + vecnorm(costt2_ass_t7)+ vecnorm(costt_energy2_ass_t7);

load('costt1_ass_t8')
load('costt_energy1_ass_t8')
load('costt2_ass_t8')
load('costt_energy2_ass_t8')

load('states2_ass_t8')
load('control2_ass_t8')
load('states1_ass_t8')
load('control1_ass_t8')


cost_total_ass_t8 = vecnorm(costt1_ass_t8)+vecnorm(costt_energy1_ass_t8) + vecnorm(costt2_ass_t8)+ vecnorm(costt_energy2_ass_t8);

load('costt1_ass_t9')
load('costt_energy1_ass_t9')
load('costt2_ass_t9')
load('costt_energy2_ass_t9')

load('states2_ass_t9')
load('control2_ass_t9')
load('states1_ass_t9')
load('control1_ass_t9')


cost_total_ass_t9 = vecnorm(costt1_ass_t9)+vecnorm(costt_energy1_ass_t9) + vecnorm(costt2_ass_t9)+ vecnorm(costt_energy2_ass_t9);

load('costt1_ass_t10')
load('costt_energy1_ass_t10')
load('costt2_ass_t10')
load('costt_energy2_ass_t10')

load('states2_ass_t10')
load('control2_ass_t10')
load('states1_ass_t10')
load('control1_ass_t10')


cost_total_ass_t10 = vecnorm(costt1_ass_t10)+vecnorm(costt_energy1_ass_t10) + vecnorm(costt2_ass_t10)+ vecnorm(costt_energy2_ass_t10);

load('costt1_ass_t11')
load('costt_energy1_ass_t11')
load('costt2_ass_t11')
load('costt_energy2_ass_t11')

load('states2_ass_t11')
load('control2_ass_t11')
load('states1_ass_t11')
load('control1_ass_t11')


cost_total_ass_t11 = vecnorm(costt1_ass_t11)+vecnorm(costt_energy1_ass_t11) + vecnorm(costt2_ass_t11)+ vecnorm(costt_energy2_ass_t11);

load('costt1_ass_t12')
load('costt_energy1_ass_t12')
load('costt2_ass_t12')
load('costt_energy2_ass_t12')

load('states2_ass_t12')
load('control2_ass_t12')
load('states1_ass_t12')
load('control1_ass_t12')


cost_total_ass_t12 = vecnorm(costt1_ass_t12)+vecnorm(costt_energy1_ass_t12) + vecnorm(costt2_ass_t12)+ vecnorm(costt_energy2_ass_t12);





% load('costt1_ass_t14')
% load('costt_energy1_ass_t14')
% load('costt2_ass_t14')
% load('costt_energy2_ass_t14')
% 
% cost_energyt11 = vecnorm(costt1_ass_t14);
% cost_energyt12 = vecnorm(costt_energy1_ass_t14);
% cost_energyt13 = vecnorm(costt2_ass_t14);
% cost_energyt14 = vecnorm(costt_energy2_ass_t14);
% 
% load('states2_ass_t14')
% load('control2_ass_t14')
% load('states1_ass_t14')
% load('control1_ass_t14')
% 
% 
% cost_total_ass_t14 = vecnorm(costt1_ass_t14)+vecnorm(costt_energy1_ass_t14) + vecnorm(costt2_ass_t14)+ vecnorm(costt_energy2_ass_t14);
% 
% load('costt1_ass_t15')
% load('costt_energy1_ass_t15')
% load('costt2_ass_t15')
% load('costt_energy2_ass_t15')
% 
% cost_energyt21 = vecnorm(costt1_ass_t15);
% cost_energyt22 = vecnorm(costt_energy1_ass_t15);
% cost_energyt23 = vecnorm(costt2_ass_t15);
% cost_energyt24 = vecnorm(costt_energy2_ass_t15);
% 
% load('states2_ass_t15')
% load('control2_ass_t15')
% load('states1_ass_t15')
% load('control1_ass_t15')
% 
% 
% 
% 
% cost_total_ass_t15 = vecnorm(costt1_ass_t15)+vecnorm(costt_energy1_ass_t15) + vecnorm(costt2_ass_t15)+ vecnorm(costt_energy2_ass_t15);
% 
% figure
% % plot(states2_ass_t8(:,13),'k')
% % hold on;
% distance_t8 = vecnorm(states1_ass_t8(:,1)) + vecnorm(states1_ass_t8(:,2)) + vecnorm(states2_ass_t8(:,1)) + vecnorm(states2_ass_t8(:,2)); 
% distance_t9 = vecnorm(states1_ass_t9(:,1)) + vecnorm(states1_ass_t9(:,2)) + vecnorm(states2_ass_t9(:,1)) + vecnorm(states2_ass_t9(:,2)); 
% distance_t10 = vecnorm(states1_ass_t10(:,1)) + vecnorm(states1_ass_t10(:,2)) + vecnorm(states2_ass_t10(:,1)) + vecnorm(states2_ass_t10(:,2)); 
% distance_t11 = vecnorm(states1_ass_t11(:,1)) + vecnorm(states1_ass_t11(:,2)) + vecnorm(states2_ass_t11(:,1)) + vecnorm(states2_ass_t11(:,2)); 
% distance_t12 = vecnorm(states1_ass_t12(:,1)) + vecnorm(states1_ass_t12(:,2)) + vecnorm(states2_ass_t12(:,1)) + vecnorm(states2_ass_t12(:,2)); 
% distance_t13 = vecnorm(states1_ass_t13(:,1)) + vecnorm(states1_ass_t13(:,2)) + vecnorm(states2_ass_t13(:,1)) + vecnorm(states2_ass_t13(:,2)); 
% distance_t14 = vecnorm(states1_ass_t14(:,1)) + vecnorm(states1_ass_t14(:,2)) + vecnorm(states2_ass_t14(:,1)) + vecnorm(states2_ass_t14(:,2)); 
% distance_t15 = vecnorm(states1_ass_t15(:,1)) + vecnorm(states1_ass_t15(:,2)) + vecnorm(states2_ass_t15(:,1)) + vecnorm(states2_ass_t15(:,2)); 
% 
% xaxis= [8,9,10,11,12,13,14,15];
% distance_total_ass = [distance_t8,distance_t9,distance_t10,distance_t11,distance_t12,distance_t13,distance_t14,distance_t15];
% 
% % 
% % %%custo apra diferentes valores de t1
% % figure
% % plot(xaxis,distance_total_ass,'xk-','Linewidth', 1.5)
% % xlabel('$t_1$','Interpreter','latex','FontSize',14)
% % 
% 
% cost_total_ass = [cost_total_ass_t8,cost_total_ass_t9,cost_total_ass_t10,cost_total_ass_t11,cost_total_ass_t12,cost_total_ass_t13,cost_total_ass_t14,cost_total_ass_t15];
% 
% load('costt1_t4')
% load('costt_energy1_t4')
% load('costt2_t4')
% load('costt_energy2_t4')
% 
% load('states2_t4')
% load('control2_t4')
% load('states1_t4')
% load('control1_t4')
% 
% cost_total_t4 = vecnorm(costt1_t4)+vecnorm(costt_energy1_t4) + vecnorm(costt2_t4)+ vecnorm(costt_energy2_t4);
% 
% load('costt1_t14')
% load('costt_energy1_t14')
% load('costt2_t14')
% load('costt_energy2_t14')
% 
% load('states2_t14')
% load('control2_t14')
% load('states1_t14')
% load('control1_t14')
% 
% cost_total_t14 = vecnorm(costt1_t14)+vecnorm(costt_energy1_t14) + vecnorm(costt2_t14)+ vecnorm(costt_energy2_t14);
% 
% 
% load('costt1_t15')
% load('costt_energy1_t15')
% load('costt2_t15')
% load('costt_energy2_t15')
% 
% load('states2_t15')
% load('control2_t15')
% load('states1_t15')
% load('control1_t15')
% 
% cost_total_t15 = vecnorm(costt1_t15)+vecnorm(costt_energy1_t15) + vecnorm(costt2_t15)+ vecnorm(costt_energy2_t15);
% 
% 
% load('costt1_t8')
% load('costt_energy1_t8')
% load('costt2_t8')
% load('costt_energy2_t8')
% 
% load('states2_t8')
% load('control2_t8')
% load('states1_t8')
% load('control1_t8')
% 
% 
% cost_total_t8 = vecnorm(costt1_t8)+vecnorm(costt_energy1_t8) + vecnorm(costt2_t8)+ vecnorm(costt_energy2_t8);
% load('costt1_t9')
% load('costt_energy1_t9')
% load('costt2_t9')
% load('costt_energy2_t9')
% 
% load('states2_t9')
% load('control2_t9')
% load('states1_t9')
% load('control1_t9')
% 
% cost_total_t9 = vecnorm(costt1_t9)+vecnorm(costt_energy1_t9) + vecnorm(costt2_t9)+ vecnorm(costt_energy2_t9);
% 
% load('costt1_t10')
% load('costt_energy1_t10')
% load('costt2_t10')
% load('costt_energy2_t10')
% 
% load('states2_t10')
% load('control2_t10')
% load('states1_t10')
% load('control1_t10')
% 
% cost_total_t10 = vecnorm(costt1_t10)+vecnorm(costt_energy1_t10) + vecnorm(costt2_t10)+ vecnorm(costt_energy2_t10);
% 
% load('costt1_t11')
% load('costt_energy1_t11')
% load('costt2_t11')
% load('costt_energy2_t11')
% 
% load('states2_t11')
% load('control2_t11')
% load('states1_t11')
% load('control1_t11')
% 
% cost_total_t11 = vecnorm(costt1_t11)+vecnorm(costt_energy1_t11) + vecnorm(costt2_t11)+ vecnorm(costt_energy2_t11);
% 
% load('costt1_t12')
% load('costt_energy1_t12')
% load('costt2_t12')
% load('costt_energy2_t12')
% 
% load('states2_t12')
% load('control2_t12')
% load('states1_t12')
% load('control1_t12')
% 
% cost_total_t12 = vecnorm(costt1_t12)+vecnorm(costt_energy1_t12) + vecnorm(costt2_t12)+ vecnorm(costt_energy2_t12);
% 
% 
% cost_total = [cost_total_t8,cost_total_t9,cost_total_t10,cost_total_t11,cost_total_t12,cost_total_t13,cost_total_t14,cost_total_t15];
% 

x=[1,20];
y=[1.62,1.62];
xline1 = [4,4];
yline1=[0,5.4];
xline2 = [7,7];
yline2=[0,5.4];
consumoE1 = [5.4*ones(4,1)-states1_t4(:,13);1.506*ones(16,1)];
consumoE2 = [5.4*ones(4,1);5.4*ones(16,1)-states2_t4(:,13)];
figure
subplot(2,1,1); 
plot(consumoE1,'-xb','Linewidth', 1.5);
hold on;
plot(x,y,'--r','Linewidth', 1.5);
hold on;
plot(xline1,yline1,'-k','Linewidth', 1.5);
ylim([0 5.4])
xlim([1 20])
xticks([1 2 4 6 8 10 12 14 16 18 20])
yticks([0 2 4 5.4])
ylabel('$E_1$','Interpreter','latex','FontSize',14)
xlabel('Discrete time','FontSize',14)
legend({'Energy consumption','Low battery ($E_1=30\%$)'}, 'Interpreter','latex','FontSize',11)

subplot(2,1,2);
plot(consumoE2,'-xb','Linewidth', 1.5);
hold on;
% plot(x,y,'--r','Linewidth', 1.5);
% hold on;
plot(xline1,yline1,'-k','Linewidth', 1.5);% ylim([-5.4 2])
hold on;
plot(xline2,yline2,'-k','Linewidth', 1.5);% ylim([-5.4 2])
ylim([0 5.4])
xlim([1 20])
xticks([1 2 4 6 8 10 12 14 16 18 20])
yticks([0 2 4 5.4])
ylabel('$E_2$','Interpreter','latex','FontSize',14)
xlabel('Discrete time','FontSize',14)
legend({'Energy consumption'}, 'Interpreter','latex','FontSize',11)

xline3 = [12,12];
yline3=[0,5.4];
xline4 = [15,15];
yline4=[0,5.4];
consumo_E1 = [5.4*ones(12,1)-states1_ass_t12(:,13);0.1517*ones(8,1)];
consumo_E2 = [5.4*ones(12,1);5.4*ones(8,1)-states2_ass_t12(:,13)];
%para t1=15 ass
%energy consumption for both drones
figure
subplot(2,1,1); 
plot(consumo_E1,'-xb','Linewidth', 1.5);
hold on;
plot(x,y,'--r','Linewidth', 1.5);
hold on;
plot(xline3,yline3,'-k','Linewidth', 1.5);% ylim([-5.4 2])
ylim([0 5.4])
xlim([1 20])
xticks([1 2 4 6 8 10 12 14 16 18 20])
yticks([0 2 4 5.4])
ylabel('$E_1$','Interpreter','latex','FontSize',14)
xlabel('Discrete time','FontSize',14)
legend({'Energy consumption','Low battery ($E_1=30\%$)'}, 'Interpreter','latex','FontSize',11)

subplot(2,1,2);
plot(consumo_E2,'-xb','Linewidth', 1.5);
hold on;
% plot(x,y,'--r','Linewidth', 1.5);
% hold on;
plot(xline3,yline3,'-k','Linewidth', 1.5);
hold on;
plot(xline4,yline4,'-k','Linewidth', 1.5);
ylim([0 5.4])
xlim([1 20])
xticks([1 2 4 6 8 10 12 14 16 18 20])
yticks([0 2 4 5.4])
ylabel('$E_2$','Interpreter','latex','FontSize',14)
xlabel('Discrete time','FontSize',14)
legend({'Energy consumption'}, 'Interpreter','latex','FontSize',11)
